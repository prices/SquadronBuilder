<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" dir="ltr">
    <head>
        <meta charset="UTF-8">
        <title>
            Robotech RPG Tactics SquadronBuilder
        </title>
        <link rel="stylesheet" href="css/default.css" />
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
        <script src="contrib/svg.min.js" type="text/javascript"></script>
        <script src="squadronbuilder.js" type="text/javascript"></script>
        <script src="data/weapons.js" type="text/javascript"></script>
        <script src="data/mecha.js" type="text/javascript"></script>
    </head>
    <body>
        <button onClick="render()">Render</button>
        <script type="text/javascript">
            var win = [];
            var coreforce = [];
            var pages = []
            function render()
            {
                var index = 0;
                win.push(window.open("force.svg", index));
                coreforce[index] = new SquadronBuilder.coreforce(null, 'RegultAttritionSquadron', 70);
                coreforce[index].support('RegultSquad');
                coreforce[index].special('Glaug');
                coreforce[index].upgrade('Veteran Warriors');
                //coreforce[index].upgrade('Glaug-Eldare');
                pages[index] = 0;
                //coreforce.canvas().x('20mm').y('20mm');
            }
            function renderPage(index)
            {
                var svg = win[index].document.getElementById('svgmain');
                console.log(svg);
                if (svg) {
                    var height = parseInt(svg.getAttribute("height"), 10);
                    var width = parseInt(svg.getAttribute("width"), 10);
                    var canvas = SVG(svg);
                    coreforce[index].canvas(canvas);
                    coreforce[index].render(pages[index]++, width, height);
                }
            }
        </script>

    </body>
</html>

